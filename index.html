<html>
     <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
var names_raw = ['place', 'Абрамова А.', 'Алексеева О.', 'Аникиенко Ю.', 'Асманов К.', 'Ахмедова С.', 'Бардашова А.', 'Беляев И.', 'Булатова Р.', 'Бухмастов А.', 'Васильева Е.', 'Власенко Д.', 'Володин А.', 'Гатауллина Д.', 'Гафарова З.', 'Грибанов Т.', 'Григорьева М.', 'Джаманкулов А.', 'Дорофеев Д.', 'Закиров З.', 'Зотов В.', 'Иванова Т.', 'Игумнов А.', 'Ильина С.', 'Капкаев Д.', 'Кириленко А.', 'Клевцова Е.', 'Коккарева О.', 'Корякин А.', 'Костин Е.', 'Кубанычбекова А.', 'Куксов А.', 'Кулижников Н.', 'Лоскутов В.', 'Лукасик А.', 'Лысенко Ф.', 'Макаренко А.', 'Мамонова А.', 'Мба А.', 'Мелихов Г.', 'Меркушев А.', 'Мошулдаева Ц.', 'Наумов В.', 'Несговорова О.', 'Нестеров А.', 'Никитина С.', 'Осетров Д.', 'Отсенге К.', 'Пастухов А.', 'Пономарев Д.', 'Потапов В.', 'Редчиц А.', 'Саляев А.', 'Сачаво А.', 'Сидоров Д.', 'Сколдинов О.', 'Смелая Е.', 'Соломатина Е.', 'Чернова Я.', 'Шадрин Я.', 'Юргенсон О.']
 var array = [names_raw 
, ['31.12', 27, 46, 52, 29, 2, 18, 7, 10, 25, 8, 52, 21, 48, 28, 19, 9, 37, 11, 14, 41, 47, 22, 52, 1, 44, 39, 6, 38, 43, 49, 52, 12, 15, 31, 52, 4, 5, 32, 17, 26, 23, 34, 20, 16, 52, 52, 33, 30, 52, 52, 42, 35, 52, 50, 24, 3, 40, 45, 36, 13] 
, ['01.01', 26, 45, 52, 28, 52, 17, 6, 9, 24, 7, 52, 20, 47, 27, 18, 8, 36, 10, 13, 40, 46, 21, 52, 1, 43, 38, 5, 37, 42, 48, 52, 11, 14, 30, 52, 3, 4, 31, 16, 25, 22, 33, 19, 15, 52, 52, 32, 29, 52, 52, 41, 34, 52, 49, 23, 2, 39, 44, 35, 12] 
, ['04.01', 31, 47, 52, 34, 52, 17, 6, 9, 24, 7, 52, 20, 48, 33, 18, 8, 43, 10, 13, 45, 32, 21, 52, 1, 27, 26, 5, 44, 46, 49, 52, 11, 14, 36, 52, 3, 4, 37, 16, 25, 22, 39, 19, 15, 42, 52, 38, 35, 52, 52, 30, 40, 52, 52, 23, 2, 28, 29, 41, 12] 
, ['05.01', 23, 52, 52, 25, 52, 52, 6, 9, 21, 7, 52, 18, 36, 24, 16, 8, 33, 10, 52, 35, 52, 52, 52, 1, 52, 52, 5, 34, 52, 37, 52, 11, 13, 27, 52, 3, 4, 28, 15, 22, 19, 30, 17, 14, 52, 52, 29, 26, 52, 52, 52, 31, 52, 52, 20, 2, 52, 52, 32, 12] 
, ['03.02', 6, 52, 52, 29, 52, 52, 12, 23, 52, 9, 32, 30, 52, 5, 18, 17, 22, 24, 52, 34, 52, 52, 19, 20, 52, 52, 1, 31, 52, 52, 52, 33, 16, 25, 52, 7, 21, 35, 3, 2, 28, 4, 27, 26, 52, 11, 15, 13, 52, 52, 52, 10, 52, 52, 52, 14, 52, 52, 52, 8] 
, ['04.02', 16, 8, 14, 43, 48, 52, 26, 37, 52, 22, 46, 44, 52, 9, 32, 31, 36, 38, 52, 49, 12, 52, 33, 34, 6, 7, 1, 45, 13, 52, 20, 47, 30, 39, 25, 17, 35, 50, 3, 2, 42, 4, 41, 40, 52, 24, 29, 27, 18, 21, 11, 23, 15, 52, 52, 28, 10, 5, 52, 19] 
];
var isSelected = false;
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {

        var data = google.visualization.arrayToDataTable(array);

        var options = {
          title: 'IKT',
          curveType: 'function',
          legend: { position: 'right' },
			vAxis: {
				viewWindow:{
					max:50,
					min:0
				},
				direction: '-1'
			},
			yAxis: {
				gridlines: { color: "black" } 
			}
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);


		var names = array[0];
		// console.log(names);
		var number = 60;
		for (var name of names){
			// console.log(name);
			if (name == "Абрамова") {
				// console.log("!!!!!");
				number = names.indexOf("Абрамова") - 1;
				}
		}

		options.series = {}



		// options.series[number] = {color: 'black'};
		chart.draw(data, options);
		progres();
	}

	  function checkIt(){
		N = document.getElementById("TEXTBOX_ID").value
		var names = array[0];
		var c = []
		for (var name of names){
			if (name.toLowerCase().startsWith(N.toLowerCase())) {
				c.push(names.indexOf(name)) }
		}

		console.log(c, c.length)

		if (names.length > c.length > 0) {
			document.getElementById("1").innerHTML="";
			var data = google.visualization.arrayToDataTable(array);
			var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));
			var options = {
			  title: 'IKT',
			  curveType: 'function',
			  legend: { position: 'right' },
				vAxis: {
					viewWindow:{
						max:50,
						min:0
					},
					direction: '-1'
				},
				yAxis: {
					gridlines: { color: "black" } 
				}
			};
			options.series = {}
			dict = {}
			for (var el of c){
				console.log(el)
				for (var name of names){ 
					i = names.indexOf(name) - 1
					if (i+1 == el) {
						console.log(name, i, i == el)
						dict[i] = {color: 'black'}; }
					else {
						if ((i in dict) && ("color" in dict[i])){
							if (dict[i].color != "black") {
								dict[i] = {color: '#eadfa6'}; 
							}
						}
						else{
							dict[i] = {color: '#eadfa6'}; 
							}
					}

				}
			};
			options.series = dict
			console.log(options.series)

			chart.draw(data, options);
			isSelected = true;

		}
		else {			
			document.getElementById("1").innerHTML="ноуп";
			if (isSelected) {
				var data = google.visualization.arrayToDataTable(array);

				var options = {
				  title: 'IKT',
				  curveType: 'function',
				  legend: { position: 'right' },
					vAxis: {
						viewWindow:{
							max:50,
							min:0
						},
						direction: '-1'
					},
					yAxis: {
						gridlines: { color: "black" } 
					}
				};

				var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

				chart.draw(data, options);
				isSelected = false;
			}

		}

	}

		function train(x) {
			var date = new Date;
			if (document.getElementById(x).checked) date.setDate(date.getDate() + 30);
			else date.setDate(date.getDate() - 1);
			document.cookie = x+"=1"+"; path=/; expires= " + date.toUTCString();
			progres();
		}

		function progres() {
			var q = 0;

			for (i = 1; i < 15; i++) {
				if (getCookie(i)!=null) {
					document.getElementById(i).checked=true;
					q++;
				}
			}
			if (q>0){
				var temp = Math.round((+q/13)*100 * 10) / 10;

				document.getElementById("prog").innerHTML="Прогресс "+ temp+ "%";
				if (temp<51) document.getElementById("prog").style.color = "red";
				else {
					if (temp<81) document.getElementById("prog").style.color = "#ff5a00";
					else document.getElementById("prog").style.color = "green";
				}
			}

		}


		function getCookie(name) {
			var cookie = " " + document.cookie;
			var search = " " + name + "=";
			var setStr = null;
			var offset = 0;
			var end = 0;
			if (cookie.length > 0) {
				offset = cookie.indexOf(search);
				if (offset != -1) {
					offset += search.length;
					end = cookie.indexOf(";", offset)
					if (end == -1) {
						end = cookie.length;
					}
					setStr = unescape(cookie.substring(offset, end));
				}
			}
			return(setStr);
		}



    </script>
  </head>
  <body>




  <div>
	Введи свою фамилию: <input type="text" id="TEXTBOX_ID" oninput="checkIt()"> <div id="1"></div></div>
    <div id="curve_chart" style="width: 100%; height: 100%"></div>


  </body>
</html>  